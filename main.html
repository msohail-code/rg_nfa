<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>TIC 2151 Theory of Computation</title>
    <link rel="stylesheet" type="text/css" href="assets/css/css.css">
	
</head>
<body style="padding: 20px">
<h1 class="title">TIC 2151 Theory of Computation</h1>



<div class="tabContainer">
    <div class="buttonContainer">
        <button onclick="showPanel(0,'#fff')">Home</button>
        <button onclick="showPanel(1,'#fff')">RG <span class="arrow">&#8594;</span> NFA</button>
        <button onclick="showPanel(2,'#fff')">NFA <span class="arrow">&#8594;</span>  RG</button>
        <button onclick="showPanel(3,'#fff')">Help + Doc</button>
    </div>
    <div class="tabPanel">Home</div>
    <div class="tabPanel">
        <form action="" id="rg_nfa" method="post">
            <label for="rg_input">Regular Grammer (Input)</label><br>
            <textarea name="rg_input" id="rg_input" cols="30" rows="10"></textarea><br>
            <span id="error"></span><br>
            <button id="find_nfa" class="button">Convert RG into NFA</button>
        </form>
        <div class="some_symbols">
            <label >Some Symbol:</label> <br>
            <span class="symbol">Use ~ instead of &epsilon; </span>
            <span class="symbol">&#8594;</span>
            
        </div>
      <!--    <textarea id="last_rg" rows="6" style="resize: none;" readonly="true"></textarea>
       <div class="output_nfa">
            <div class="table_nfa_epsilon">

                <label for="">Transition Table with &epsilon;</label><br>
                <table class="table epsilon_nfa" >
                    <tr id='epsilon_nfa_head'>
                        <th></th>
                        
                        
                    </tr>
                    <tr>
                        <td>&gt; A</td>
                        <td>R</td>
                        <td>&#8709;</td>
                        <td>&#8709;</td>
                    </tr>
                    <tr>
                        <td>R</td>
                        <td>S</td>
                        <td>R</td>
                        <td>&#8709;</td>
                    </tr>
                    <tr>
                        <td>S</td>
                        <td>&#8709;</td>
                        <td>T</td>
                        <td>&#8709;</td>
                    </tr>
                    <tr>
                        <td>T*</td>
                        <td>&#8709;</td>
                        <td>&#8709;</td>
                        <td>R</td>
                        

                    </tr>


                </table>
            </div>
           <div class="table_nfa_epsilon">
                <button id="without_epsilon_btn" style="margin-top: 100px;" class="button">To without &epsilon;</button>
           </div>
            <div class="table_nfa_epsilon " id="without_epsilon">

                <label for="">Transition Table without &epsilon;</label><br>
                <table class="table">
                    <tr>
                        <th></th>
                        <th>a</th>
                        <th>b</th>
                    </tr>
                    <tr>
                        <td>&gt; A</td>
                        <td>R</td>
                        <td>&#8709;</td>
                        
                    </tr>
                    <tr>
                        <td>R</td>
                        <td>S</td>
                        <td>R</td>
                        
                    </tr>
                    <tr>
                        <td>S</td>
                        <td>&#8709;</td>
                        <td>T</td>
                        
                    </tr>
                    <tr>
                        <td>T*</td>
                        <td>&#8709;</td>
                        <td>&#8709;</td>
                        
                    </tr>
                </table>
            </div>
            <div class="clear"></div>
        </div>
        <div class="nfa_diagram">
            <button id="draw_nfa" class="button">Draw NFA</button>
        </div>
        <button id="getajaxresult" class="button" onclick="getData()">Get ajax result</button> -->
        <div class="output_nfa">

            <div id="ajax_output">
                
            </div>
        </div>
        <div class="nfa_diagram" id="nfa_diagram" style="display: none;">
            <button id="draw_nfa" class="button">Draw NFA</button>
        </div>
    </div>
    <div class="tabPanel">NFA -> RG</div>
    <div class="tabPanel">Help Docs</div>
</div>
<script type="text/javascript" src="assets/js/tabs.js"></script>
<script type="text/javascript">
    //document.getElementById('rg_input').value = localStorage.getItem('rg');
    document.getElementById('rg_nfa').addEventListener('submit', function(e) {
       
        e.preventDefault(); 
        let ajax_result = document.getElementById('ajax_output');
        var rg_data = "rg_data="+document.getElementById('rg_input').value;
        
        var get_nfa = new XMLHttpRequest();
        get_nfa.onreadystatechange = function(){
            if(this.readyState == 4 && this.status == 200){
                
                ajax_result.innerHTML = this.responseText;
                document.getElementById('nfa_diagram').style.display = 'block';
            }
        };
        get_nfa.open('post','process.php',true);
        get_nfa.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        get_nfa.send(rg_data);
    })

    

   function without_epsilon() {
      
        //e.preventDefault(); 
        let ajax_result = document.getElementById('without_epsilon');
        var rg_data = "no_epsilon="+document.getElementById('rg_input').value;
        
        var get_nfa = new XMLHttpRequest();
        get_nfa.onreadystatechange = function(){
            if(this.readyState == 4 && this.status == 200){
                
                ajax_result.innerHTML = this.responseText;
                document.getElementById('nfa_diagram').style.display = 'block';
            }
        };
        get_nfa.open('post','process.php',true);
        get_nfa.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
        get_nfa.send(rg_data);
    }


</script>

</body>
</html>